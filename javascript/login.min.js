function isValidEmail(e){var t=/.+@(gmail.com|yahoo.com.tw|live.com|mail.com)$/;return t.test(e)}function validateRegister(){var e=document.getElementById("email"),t=document.getElementById("passwd"),r=document.getElementById("confirmpwd");if(!isValidEmail(e.value))return alert("請輸入符合格式的電子信箱"),!1;let n=t.value,o=r.value;return n===o||(console.log(n),alert("前後密碼不相符"),!1)}async function loginData(){const e=await document.querySelector(".loginform");let t="";try{e.addEventListener("submit",r=>{r.preventDefault();const n=new FormData(e);let o={};n.forEach((e,t)=>o[t]=e);let s=JSON.stringify(o);fetch("http://localhost:8000/api/login",{method:"post",body:s}).then(e=>e.json()).then(e=>{console.log(e),errmsg=t.replace("",e.msg),document.getElementById("loginmsg").innerText=errmsg})})}catch(e){console.log(e)}}async function registerData(){const e=await document.querySelector(".registerform");let t="";try{e.addEventListener("submit",r=>{r.preventDefault();const n=new FormData(e);let o={};n.forEach((e,t)=>o[t]=e);let s=JSON.stringify(o);fetch("http://localhost:8000/api/register",{method:"post",body:s}).then(e=>e.json()).then(e=>{console.log(e),errmsg=t.replace("",e.msg),document.getElementById(".registermsg").innerHTML=errmsg})})}catch(e){console.log(e)}}var loginform=document.getElementById("loginform"),registerfrom=document.getElementById("registerform");document.getElementById("registerlink").addEventListener("click",function(e){e.preventDefault(),loginform.style.transition="transform 0.5s ease",registerfrom.style.transition="transform 0.5s ease",loginform.style.transform="translateX(-90%) rotate(15deg)",registerfrom.style.transform="rotate(0)",setTimeout(function(){loginform.style.zIndex="0",registerfrom.style.zIndex="1",loginform.style.transform="translateX(0) rotate(15deg)"},500)}),document.getElementById("loginlink").addEventListener("click",function(e){e.preventDefault(),loginform.style.transition="transform 0.5s ease",registerfrom.style.transition="transform 0.5s ease",registerfrom.style.transform="translateX(90%) rotate(15deg)",loginform.style.transform="rotate(0)",setTimeout(function(){registerfrom.style.zIndex="0",loginform.style.zIndex="1",registerfrom.style.transform="translateX(0) rotate(15deg)"},500)}),loginData(),registerData();