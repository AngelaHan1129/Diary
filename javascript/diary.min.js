function selectOption(e){var t=e.querySelector("img").getAttribute("alt"),n=e.closest(".drop").querySelector(".dropOption a");n.textContent=t,n.removeAttribute("id"),e.closest(".drop").querySelector(".dropdown").style.display="none"}function toggleDropdown(e){var t=e.nextElementSibling;t.style.display="block"===t.style.display?"none":"block"}function loadImage(e,t){document.getElementById("image-container").innerHTML="";const n=e.getAttribute("data-image"),o=new XMLHttpRequest;o.onload=function(){if(200===this.status){const e=this.response,t=URL.createObjectURL(e),n=document.createElement("img");n.width=80,n.height=80,n.src=t,document.getElementById("image-container").appendChild(n)}else console.error("Request failed with status:",this.status)},o.responseType="blob",o.open("GET",n),o.send(),document.getElementById("selected_emotion_field").value=t}function loadImage1(e,t){document.getElementById("image-container1").innerHTML="";const n=e.getAttribute("data-image"),o=new XMLHttpRequest;o.onload=function(){if(200===this.status){const e=this.response,t=URL.createObjectURL(e),n=document.createElement("img");n.width=80,n.height=80,n.src=t,document.getElementById("image-container1").appendChild(n)}else console.error("Request failed with status:",this.status)},o.responseType="blob",o.open("GET",n),o.send(),document.getElementById("selected_weather_field").value=t}async function writeDiary(){const e=await document.querySelector(".writeform");let t="";try{e.addEventListener("submit",n=>{n.preventDefault();const o=new FormData(e);let a={};o.forEach((e,t)=>a[t]=e);let s=JSON.stringify(a);fetch("http://localhost:8000/api/write_diary",{method:"post",body:s}).then(e=>e.json()).then(e=>{console.log(e),errmsg=t.replace("",e.msg),console.log(errmsg),document.getElementById("diarymsg").innerText=errmsg})})}catch(e){console.log(e)}}var date=new Date,yyyy=date.getFullYear(),mm=String(date.getMonth()+1).padStart(2,"0"),dd=String(date.getDate()).padStart(2,"0"),today=yyyy+"-"+mm+"-"+dd;document.getElementById("date").value=today,document.getElementById("current_date_input").value=year+"-"+month+"-"+day,writeDiary();var music=document.getElementsByClassName("music"),submit=document.querySelector("button");submit.addEventListener("click",function(e){e.preventDefault(),music.style.transition="transfrom 0.4s",music.style.transform="none"});